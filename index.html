<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced To-Do List</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <div class="container">
        <h1>My Enhanced To-Do List</h1>
        
        <div class="controls">
            <div class="input-section">
                <input type="text" id="taskInput" placeholder="Enter a new task">
                <select id="categorySelect">
                    <option value="work">Work</option>
                    <option value="personal">Personal</option>
                    <option value="shopping">Shopping</option>
                    <option value="other">Other</option>
                </select>
                <button onclick="addTask()">➕ Add Task</button>
            </div>
            <button id="themeToggle">🌙 Dark Mode</button>
        </div>
        
        <ul id="taskList"></ul>
    </div>
    
    <script src="script.js"></script>
    <!-- <script>
        // DOM Elements
        const taskInput = document.getElementById("taskInput");
        const taskList = document.getElementById("taskList");
        const themeToggle = document.getElementById("themeToggle");
        const categorySelect = document.getElementById("categorySelect");

        // Load tasks from localStorage
        let tasks = JSON.parse(localStorage.getItem("tasks")) || [];

        // Initialize app
        function init() {
            renderTasks();
            setupDragAndDrop();
            loadThemePreference();
            setupEventListeners();
        }

        // Display all tasks
        function renderTasks() {
            taskList.innerHTML = "";
            
            if (tasks.length === 0) {
                taskList.innerHTML = '<p style="text-align: center; color: #6c757d;">No tasks yet. Add one above!</p>';
                return;
            }
            
            tasks.forEach((task, index) => {
                const li = document.createElement("li");
                li.dataset.index = index;
                li.draggable = true;
                li.className = `category-${task.category}`;
                
                if (task.completed) {
                    li.classList.add("completed");
                }
                
                li.innerHTML = `
                    <div class="task-content">
                        <span>${task.text}</span>
                        <span class="category-tag">${getCategoryName(task.category)}</span>
                    </div>
                    <div class="task-actions">
                        <button class="complete-btn" onclick="toggleComplete(${index})">
                            ${task.completed ? '↩ Undo' : '✓ Done'}
                        </button>
                        <button class="delete-btn" onclick="deleteTask(${index})">✕ Delete</button>
                    </div>
                `;
                taskList.appendChild(li);
            });
        }

        // Get category display name
        function getCategoryName(category) {
            const names = {
                work: "Work",
                personal: "Personal",
                shopping: "Shopping",
                other: "Other"
            };
            return names[category];
        }

        // Add a new task
        function addTask() {
            const text = taskInput.value.trim();
            if (text === "") {
                alert("Please enter a task!");
                return;
            }

            const category = categorySelect.value;
            tasks.push({ 
                text, 
                completed: false, 
                category,
                createdAt: new Date().toISOString()
            });
            saveTasks();
            taskInput.value = "";
            renderTasks();
            taskInput.focus();
        }

        // Toggle task completion
        function toggleComplete(index) {
            tasks[index].completed = !tasks[index].completed;
            saveTasks();
            renderTasks();
        }

        // Delete a task
        function deleteTask(index) {
            if (confirm("Are you sure you want to delete this task?")) {
                tasks.splice(index, 1);
                saveTasks();
                renderTasks();
            }
        }

        // Save tasks to localStorage
        function saveTasks() {
            localStorage.setItem("tasks", JSON.stringify(tasks));
        }

        // Setup drag and drop functionality
        function setupDragAndDrop() {
            let draggedItem = null;

            taskList.addEventListener("dragstart", (e) => {
                if (e.target.tagName === "LI") {
                    draggedItem = e.target;
                    e.target.classList.add("dragging");
                }
            });

            taskList.addEventListener("dragover", (e) => {
                e.preventDefault();
                const afterElement = getDragAfterElement(e.clientY);
                const currentItem = document.querySelector(".dragging");
                
                if (afterElement == null) {
                    taskList.appendChild(draggedItem);
                } else {
                    taskList.insertBefore(draggedItem, afterElement);
                }
            });

            taskList.addEventListener("dragend", (e) => {
                if (e.target.tagName === "LI") {
                    e.target.classList.remove("dragging");
                    updateTaskOrder();
                }
            });

            function getDragAfterElement(y) {
                const draggableElements = [...taskList.querySelectorAll("li:not(.dragging)")];
                
                return draggableElements.reduce((closest, child) => {
                    const box = child.getBoundingClientRect();
                    const offset = y - box.top - box.height / 2;
                    
                    if (offset < 0 && offset > closest.offset) {
                        return { offset: offset, element: child };
                    } else {
                        return closest;
                    }
                }, { offset: Number.NEGATIVE_INFINITY }).element;
            }
        }

        function updateTaskOrder() {
            const newTasks = [];
            const items = taskList.querySelectorAll("li");
            
            items.forEach(item => {
                const index = item.dataset.index;
                newTasks.push(tasks[index]);
            });
            
            tasks = newTasks;
            saveTasks();
        }

        // Dark/Light mode toggle
        themeToggle.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
            updateThemeButtonText();
        });

        function loadThemePreference() {
            const darkMode = localStorage.getItem("darkMode") === "true";
            if (darkMode) {
                document.body.classList.add("dark-mode");
            }
            updateThemeButtonText();
        }

        function updateThemeButtonText() {
            const isDarkMode = document.body.classList.contains("dark-mode");
            themeToggle.innerHTML = isDarkMode ? '☀️ Light Mode' : '🌙 Dark Mode';
        }

        // Setup event listeners
        function setupEventListeners() {
            // Add task on pressing Enter
            taskInput.addEventListener("keypress", (e) => {
                if (e.key === "Enter") addTask();
            });
        }

        // Initialize the app
        init();
    </script> -->
<!-- </body>
</html> --> 

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List with Firebase</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="script.js"></script>
</head>
<body>
    <div class="container">
        <h1>My To-Do List</h1>
        <div class="controls">
            <div class="input-section">
                <input type="text" id="taskInput" placeholder="Enter a new task">
                <select id="categorySelect">
                    <option value="work">Work</option>
                    <option value="personal">Personal</option>
                    <option value="shopping">Shopping</option>
                    <option value="other">Other</option>
                </select>
                <button id="addTaskBtn">➕ Add</button>
            </div>
            <button id="themeToggle">🌙 Dark Mode</button>
        </div>
        <ul id="taskList"></ul>
    </div>
    
    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyCUZP-faySw4n67Pjr1oWq9-NW1aQi70ow",
            authDomain: "todo-list-sync-c546e.firebaseapp.com",
            projectId: "todo-list-sync-c546e",
            storageBucket: "todo-list-sync-c546e.firebasestorage.app",
            messagingSenderId: "887382646844",
            appId: "1:887382646844:web:811a325046c371592b6339",
            measurementId: "G-9J0K7FDVN2"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        // Make db available globally
        window.firebaseDb = db;
    </script>
</body>
</html>